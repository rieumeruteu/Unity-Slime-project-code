public class MovingObject: MonoBehaviour{
    bool isHorizonMove;
    private Animator animator;
    float h;
    float y;
    public float speed;//이동속도 변수 추가
    private Rigidbody2D myRigidbody;//리지드 바디를 추가

    void start(){

        animator=GetComponent<Animator>();
        
    }

        void Update(){
            //움직임 값 
            h=Input.GetAxisRaw("Horizontal");
            v=Input.GetAxisRaw("Vertical");
            bool hDown=Input.GetButtonDown("Horizontal");
            bool vDown=Input.GetButtonDown("Vertical");
            bool hUp=Input.GetButtonUp("Horizontal");
            bool vUp=Input.GetButtonUp("Vertical");

            if(hDown)
                isHorizonMove=true;
            else if(vDown)
                isHorizonMove=false;
            else if(hUp||vUp)
                isHorizonMove=h!=0;



            if(h!=0)
                v=0;
          /*위+좌or우, 아래+좌or우 로 이동시 애니메이션이 위or 아래만 보이는 문제를 해결하는 방법
          h값이 입력되면 v값은 필요가 없으므로 0*/


            //int로 Animator의 Parameter를 정했으면 GetInteger float면 Setfloat 로 정하기
            if(animator.GetInteger("MovingX")!=h){
            animator.SetBool("Change",true);// Parameter에 "change"를 넣어서 멈추는 모션과 이동하는 모션 구분 
            animator.SetInteger("MovingX",(int)h);
            }
            else if(animator.GetInteger("MovingY")!=y){
            animator.SetBool("Change",true);
            animator.SetInteger("MovingY",(int)y);
            }
            else
            {
                animator.setBool("Change",false);
            }
        }


        void FixedUpdate(){//움직이는 방향 및 속도를 정해준다.
            Vector2 moveVec=isHorizonMove? new Vector2(h,0):new Vector2(0,v);
            myRigidbody.Velocity=moveVec*speed;

        }
    
}